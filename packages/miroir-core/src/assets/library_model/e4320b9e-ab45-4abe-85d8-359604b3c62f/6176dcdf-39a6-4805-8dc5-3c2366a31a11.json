{
  "uuid": "6176dcdf-39a6-4805-8dc5-3c2366a31a11",
  "parentName": "Query",
  "parentUuid": "e4320b9e-ab45-4abe-85d8-359604b3c62f",
  "name": "BookCountByPublisher",
  "defaultLabel": "The count of Books By Publisher.",
  "description": "This query produces a list of publishers, with the count of Books for each publisher.",
  "definition": {
    "extractorTemplates": {
      "publishers": {
        "extractorTemplateType": "extractorTemplateForObjectListByEntity",
        "applicationSection": "data",
        "parentName": "Publisher",
        "parentUuid": {
          "transformerType": "constant",
          "value": "a027c379-8468-43a5-ba4d-bf618be25cab"
        }
      }
    },
    "combinerTemplates": {
      "BookWithPublisher": {
        "extractorTemplateType": "combinerByManyToManyRelationReturningObjectList",
        "applicationSection": "data",
        "parentName": "Book",
        "parentUuid": {
          "transformerType": "constant",
          "value": "e8ba151b-d68e-4cc3-9a83-3459d309ccf5"
        },
        "objectListReference": {
          "transformerType": "contextReference",
          "interpolation": "runtime",
          "referenceName": "publishers"
        },
        "AttributeOfRootListObjectToCompareToListReferenceUuid": "publisher",
        "applyTransformer": {
          "transformerType": "freeObjectTemplate",
          "interpolation": "runtime",
          "definition": {
            "publisherName": {
              "transformerType": "contextReference",
              "interpolation": "runtime",
              "referencePath": [
                "referenceObject",
                "name"
              ]
            },
            "publisherUuid": {
              "transformerType": "contextReference",
              "interpolation": "runtime",
              "referencePath": [
                "referenceObject",
                "uuid"
              ]
            },
            "bookName": {
              "transformerType": "contextReference",
              "interpolation": "runtime",
              "referencePath": [
                "foreignKeyObject",
                "name"
              ]
            }
          }
        }
      }
    },
    "runtimeTransformers": {
      "00_BookCountByPublisher": {
        "transformerType": "count",
        "applyTo": {
          "transformerType": "contextReference",
          "interpolation": "runtime",
          "referenceName": "BookWithPublisher"
        },
        "groupBy": [
          "publisherName",
          "publisherUuid"
        ]
      }
    }
  }
}